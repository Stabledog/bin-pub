#!/bin/bash

scriptName=$(readlink -f  -- $0)
# Capture the current DISPLAY value. If a tmux shell gets
# disconnected, you can reconnect by running ~/tmp/set_DISPLAY
newScript=$HOME/tmp/set_DISPLAY
mkdir -p $(dirname $newScript) 2>/dev/null
echo "#!/bin/bash" > $newScript
echo "# Generated by ${scriptName}" >> $newScript
echo "# Use the setDisplay function within shells to update X pipe" >> $newScript
echo "" >> $newScript
echo "export DISPLAY" >> $newScript
echo "DISPLAY=$DISPLAY" >> $newScript
chmod +x $newScript
echo "OK: $DISPLAY -> $newScript, use setDisplay to update other shells."


