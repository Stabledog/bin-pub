#!/bin/bash
# loop_cmd
#    Given a shell command, put it in a loop with a prompt at the end.
#
#   e.g.:
#
#   $  loop_cmd cmd arg1 arg2 arg3   # Run cmd with its args over and over, prompting for restart each time.

cmd="Usage: loop_cmd [command] {arg1 arg2 ...}"
cmd=$1
shift
[[ -z $cmd ]] && { echo "$usage"; echo "Error: no command specified." >&2; exit 1; }
while true; do
   $cmd $*
   res=$?
   read -p "$cmd returned $res.  Press any key to loop again, Ctrl+C to quit."
done

exit $res

